<!doctype html>
<html class="no-js" lang="en">
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Metal Gear Solid V guns</title>
    <link rel="stylesheet" href="css/foundation.css" />
    <link rel="stylesheet" href="css/app.css" />
  </head>
  <body>

    <div class="row">
      <div class="large-12 columns">
        <h3><center>MGSV weapons table</center></h3>
      </div>
    </div>

    <div class="row">
      <div class="large-12 columns">
        <table id='t1'>
         <caption>Default gun parts</caption>
          <thead>
            <td>Frame</td>
            <td>Barrel</td>
            <td>Magazine</td>
            <td>Stock</td>
            <td>Muzzle</td>
            <td>Muzzle option</td>
            <td>Flashlight</td>
            <td>Sight</td>
            <td>Laser sight</td>
            <td>Foregrip</td>
            </thead>
            <tbody id='default_gun_parts'>
              
            </tbody>
        </table>
      </div>
    </div>

    <div class="row">
      <div class="large-12 columns">
        <table id='open_slots'>
         <caption>Open slots on barrels and frames</caption>
          <thead>
            <td>Type</td>
            <td>Name</td>
            <td>Slots</td>
          </thead>
        </table>
      </div>
    </div>

    <div class="row">
      <div class="large-12 columns">
        <table id='parts'>
         <caption>All parts</caption>
          <thead>
            <td>Type</td>
            <td>Name</td>
            <td>partsID</td>
            <td>Description</td>
          </thead>
        </table>
      </div>
    </div>



    <script src="js/vendor/jquery.min.js"></script>
    <script src="js/vendor/what-input.min.js"></script>
    <script src="js/foundation.min.js"></script>
    <script src="js/app.js"></script>
    <script src="js/jquery.lazyload.js"></script>
    <script src="js/jquery.floatThead.min.js"></script>
    <script type="text/javascript">
      //javascript is gross
      $.getJSON('js/default_gun_components.json').done(function (data){
        keys = ["frame","barrel","magazine","stock","muzzle","muzzle_option","flashlight","sight","laser_sight","foregrip"]
        $.each(data, function (i,f)
        {
          keys.forEach(function(key) {
            
            if (!(f['names'].hasOwnProperty(key))) {
                f['names'][key] = ""
            }
          })

          $('#default_gun_parts').append("\
            <tr>\
              <td>" + f.names.frame + "</td><td>" + f.names.barrel + "</td><td>" + f.names.magazine + 
              "</td><td>" + f.names.stock + "</td><td>" + f.names.muzzle + "</td><td>" + f.names.muzzle_option + 
              "</td><td>" + f.names.flashlight + "</td><td>" + f.names.sight + "</td><td>" + f.names.laser_sight + "</td><td>" + f.names.foregrip + "</td>\
            </tr>")
        })
      })

      var $table = $('table.t1');
      $table.floatThead();


    </script>
  </body>
</html>

<!doctype html>
<html class="no-js" lang="en">
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Metal Gear Solid V guns</title>
    <link rel="stylesheet" href="css/foundation.css" />
    <link rel="stylesheet" href="css/app.css" />
  </head>
  <body>

    <div class="row">
      <div class="large-12 columns">
        <h3><center>MGSV weapons table</center></h3>
      </div>
    </div>

    <div class='row' style='max-width: 100em'>
      <div class="large-12 columns">
        <h4>Contents</h4>

        <ul>
          <li><a href='#notes'>Notes</a></li>
          <li><a href='#t3'>All parts</a></li>
          <li><a href='#t2'>Open slots</a></li>
          <li><a href='#t1'>Default gun parts</a></li>
        </ul>
      </div>
    </div>


    <div class='row' style='max-width: 100em'>
      <div class="large-12 columns">
       These tables contain vital information about MGSV guns. Please read README for basic info here - <a href="https://github.com/unknown321/mgsmonsterguns">https://github.com/unknown321/mgsmonsterguns</a>. 
       <br>
       Most of info was ripped from <span class="secondary label">\master\0\00\Assets\tpp\level_asset\weapon\ParameterTables\parts\EquipParameters.lua</span> and <span class="secondary label">\master\0\00\Assets\tpp\motherbase\script\WeaponPartsCombinationSettings.lua</span> using <a href='https://www.dropbox.com/s/0rtpumx2mxsjaby/MGSV_QAR_Tool.rar?dl=0'>MGSV QAR Tool v1.3 by Sergeanur</a>, <a href='https://github.com/Atvaark/FoxEngine.TranslationTool'>FoxEngine.TranslationTool</a> and some Python magic.
       <br>
       All parts table is sorted by part type and used when you need it.
       Open slots table is sorted by type (frame->barrel) and amount of slots (from less to more). You should use it when you need to find a frame with many slots for example.
       Default gun parts table has all parts for every single default gun. Not sure when you'll need to use this, nonetheless it is here.
       All data is parsed from json files from <a href="https://github.com/unknown321/mgsmonsterguns/tree/gh-pages/js">/js/</a> directory.
      </div>
    </div>

    <div class="row">
      <div class="large-12 columns">
        <table id='t3'>
         <caption>All parts</caption>
          <thead>
            <td>Type</td>
            <td>Name</td>
            <td>partsID</td>
            <td>Description</td>
          </thead>
          <tbody id='parts'>
          </tbody>
        </table>
      </div>
    </div>

    <div class="row">
      <div class="large-12 columns">
        <table id='t2'>
         <caption>Open slots on barrels and frames</caption>
          <thead>
            <td>partsID</td>
            <td>Name</td>
            <td>Slots</td>
          </thead>
          <tbody id='open_slots'>
          </tbody>
        </table>
      </div>
    </div>


    <div class="row">
      <div class="large-12 columns">
        <table id='t1'>
         <caption>Default gun parts</caption>
          <thead>
            <td>Frame</td>
            <td>Barrel</td>
            <td>Magazine</td>
            <td>Stock</td>
            <td>Muzzle</td>
            <td>Muzzle option</td>
            <td>Flashlight</td>
            <td>Sight</td>
            <td>Laser sight</td>
            <td>Foregrip</td>
            </thead>
            <tbody id='default_gun_parts'>
            </tbody>
        </table>
      </div>
    </div>



    <script src="js/vendor/jquery.min.js"></script>
    <script src="js/vendor/what-input.min.js"></script>
    <script src="js/foundation.min.js"></script>
    <script src="js/app.js"></script>
    <script src="js/jquery.lazyload.js"></script>
    <script src="js/jquery.floatThead.min.js"></script>
    <script type="text/javascript">
      //javascript is gross
      $.getJSON('js/parts.json').done(function (data){
        $.each(data, function (i,f)
        {
          var desc = ""
          f.langPowerUpInfo.forEach(function(s){
            desc = desc + s + ', '
          })
          desc = desc.slice(0,-2)
          $('#parts').append("\
            <tr>\
              <td>" + f.type + "</td><td>" + f.messageID + "</td><td>" + f.partsID + 
              "</td><td>" + desc + "</td>\
            </tr>")
        })
        table3 = $('[id=t3]');
        table3.floatThead();
      })






      $.getJSON('js/open_slots.json').done(function (data){
        $.each(data, function (i,f)
        {
          $('#open_slots').append("\
            <tr>\
              <td>" + f.receiver + "</td><td>" + f.names.receiver + "</td><td>" + f.names.slots +"</td>\
            </tr>")
        })
        table2 = $('[id=t2]');
        table2.floatThead();
      })




      $.getJSON('js/default_gun_components.json').done(function (data){
        keys = ["frame","barrel","magazine","stock","muzzle","muzzle_option","flashlight","sight","laser_sight","foregrip"]
        $.each(data, function (i,f)
        {
          keys.forEach(function(key) {
            
            if (!(f['names'].hasOwnProperty(key))) {
                f['names'][key] = ""
            }
          })

          $('#default_gun_parts').append("\
            <tr>\
              <td>" + f.names.frame + "</td><td>" + f.names.barrel + "</td><td>" + f.names.magazine + 
              "</td><td>" + f.names.stock + "</td><td>" + f.names.muzzle + "</td><td>" + f.names.muzzle_option + 
              "</td><td>" + f.names.flashlight + "</td><td>" + f.names.sight + "</td><td>" + f.names.laser_sight + "</td><td>" + f.names.foregrip + "</td>\
            </tr>")
        })
        table1 = $('[id=t1]');
        table1.floatThead();
      })


      


    </script>
  </body>
</html>
